{"remainingRequest":"/Users/mmcallen/Documents/03_Other/01_Dev_work/01_Dev_tutorials/20_ripple_2/vue-boilerplate/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/mmcallen/Documents/03_Other/01_Dev_work/01_Dev_tutorials/20_ripple_2/vue-boilerplate/src/components/Scene.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/mmcallen/Documents/03_Other/01_Dev_work/01_Dev_tutorials/20_ripple_2/vue-boilerplate/src/components/Scene.vue","mtime":1601892687691},{"path":"/Users/mmcallen/Documents/03_Other/01_Dev_work/01_Dev_tutorials/20_ripple_2/vue-boilerplate/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/mmcallen/Documents/03_Other/01_Dev_work/01_Dev_tutorials/20_ripple_2/vue-boilerplate/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/mmcallen/Documents/03_Other/01_Dev_work/01_Dev_tutorials/20_ripple_2/vue-boilerplate/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/mmcallen/Documents/03_Other/01_Dev_work/01_Dev_tutorials/20_ripple_2/vue-boilerplate/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KCmltcG9ydCAqIGFzIFRIUkVFIGZyb20gJ3RocmVlJzsKaW1wb3J0IHsgT3JiaXRDb250cm9scyB9IGZyb20gJ3RocmVlL2V4YW1wbGVzL2pzbS9jb250cm9scy9PcmJpdENvbnRyb2xzJzsKaW1wb3J0IFdFQkdMIGZyb20gJy4uL21peGlucy93ZWJnbCc7CgpsZXQgY29udGFpbmVyOwpsZXQgY2FtZXJhOwpsZXQgcmVuZGVyZXI7CmxldCBzY2VuZTsKbGV0IG1haW5MaWdodDsKbGV0IGFtYmllbnRMaWdodDsKbGV0IGNvbnRyb2xzOwpsZXQgbWF0ZXJpYWxzOwpsZXQgZ2VvbWV0cmllczsKCmV4cG9ydCBkZWZhdWx0IHsKICAgIG5hbWU6ICdTY2VuZScsCiAgICBjb21wb25lbnRzOiB7fSwKICAgIG1vdW50ZWQoKSB7CiAgICAgICAgdGhpcy5iaW5kRXZlbnRzKCk7CiAgICAgICAgdGhpcy5pbml0aWFsaXNlU2NlbmUoKTsKICAgIH0sCiAgICBtZXRob2RzOiB7CiAgICAgICAgaW5pdGlhbGlzZVNjZW5lKCkgewogICAgICAgICAgICBjb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjc2NlbmUtY29udGFpbmVyJyk7CiAgICAgICAgICAgIHNjZW5lID0gbmV3IFRIUkVFLlNjZW5lKCk7CiAgICAgICAgICAgIHNjZW5lLmJhY2tncm91bmQgPSBuZXcgVEhSRUUuQ29sb3IoJ3NreWJsdWUnKTsKCiAgICAgICAgICAgIHRoaXMuY3JlYXRlQ2FtZXJhKCk7CiAgICAgICAgICAgIHRoaXMuY3JlYXRlTGlnaHRzKCk7CiAgICAgICAgICAgIHRoaXMuY3JlYXRlTWVzaGVzKCk7CiAgICAgICAgICAgIHRoaXMuY3JlYXRlUmVuZGVyZXIoKTsKICAgICAgICAgICAgdGhpcy5jcmVhdGVDb250cm9scygpOwoKICAgICAgICAgICAgaWYgKFdFQkdMLmlzV2ViR0xBdmFpbGFibGUoKSkgewogICAgICAgICAgICAgICAgcmVuZGVyZXIuc2V0QW5pbWF0aW9uTG9vcCgoKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgdGhpcy51cGRhdGUoKTsKICAgICAgICAgICAgICAgICAgICB0aGlzLnJlbmRlcigpOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBjb25zdCB3YXJuaW5nID0gV0VCR0wuZ2V0V2ViR0xFcnJvck1lc3NhZ2UoKTsKICAgICAgICAgICAgICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZCh3YXJuaW5nKTsKICAgICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgY3JlYXRlQ2FtZXJhKCkgewogICAgICAgICAgICBjb25zdCBmb3YgPSAzNTsgLy8gQUtBIEZpZWxkIG9mIFZpZXcKICAgICAgICAgICAgY29uc3QgYXNwZWN0ID0gY29udGFpbmVyLmNsaWVudFdpZHRoIC8gY29udGFpbmVyLmNsaWVudEhlaWdodDsKICAgICAgICAgICAgY29uc3QgbmVhciA9IDAuMTsgLy8gdGhlIG5lYXIgY2xpcHBpbmcgcGxhbmUKICAgICAgICAgICAgY29uc3QgZmFyID0gMTAwOyAvLyB0aGUgZmFyIGNsaXBwaW5nIHBsYW5lCiAgICAgICAgICAgIGNhbWVyYSA9IG5ldyBUSFJFRS5QZXJzcGVjdGl2ZUNhbWVyYShmb3YsIGFzcGVjdCwgbmVhciwgZmFyKTsKICAgICAgICAgICAgY2FtZXJhLnBvc2l0aW9uLnNldCgtNSwgNSwgNyk7CiAgICAgICAgfSwKICAgICAgICBjcmVhdGVMaWdodHMoKSB7CiAgICAgICAgICAgIGFtYmllbnRMaWdodCA9IG5ldyBUSFJFRS5IZW1pc3BoZXJlTGlnaHQoCiAgICAgICAgICAgICAgICAweGRkZWVmZiwgLy8gc2t5IGNvbG9yCiAgICAgICAgICAgICAgICAweDIwMjAyMCwgLy8gZ3JvdW5kIGNvbG9yCiAgICAgICAgICAgICAgICAwLjUsIC8vIGludGVuc2l0eQogICAgICAgICAgICApOwoKICAgICAgICAgICAgbWFpbkxpZ2h0ID0gbmV3IFRIUkVFLkRpcmVjdGlvbmFsTGlnaHQoMHhmZmZmZmYsIDMpOwogICAgICAgICAgICBtYWluTGlnaHQucG9zaXRpb24uc2V0KDEwLCAxMCwgMTApOwoKICAgICAgICAgICAgc2NlbmUuYWRkKGFtYmllbnRMaWdodCwgbWFpbkxpZ2h0KTsKICAgICAgICB9LAogICAgICAgIGNyZWF0ZU1lc2hlcygpIHsKICAgICAgICAgICAgbWF0ZXJpYWxzID0gdGhpcy5jcmVhdGVNYXRlcmlhbHMoKTsKICAgICAgICAgICAgZ2VvbWV0cmllcyA9IHRoaXMuY3JlYXRlR2VvbWV0cmllcygpOwogICAgICAgICAgICBjb25zdCB0cmFpbiA9IG5ldyBUSFJFRS5Hcm91cCgpOwogICAgICAgICAgICBzY2VuZS5hZGQodHJhaW4pOwoKICAgICAgICAgICAgY29uc3Qgbm9zZSA9IG5ldyBUSFJFRS5NZXNoKGdlb21ldHJpZXMubm9zZSwgbWF0ZXJpYWxzLmJvZHkpOwogICAgICAgICAgICBub3NlLnJvdGF0aW9uLnogPSBNYXRoLlBJIC8gMjsKICAgICAgICAgICAgbm9zZS5wb3NpdGlvbi54ID0gLTE7CgogICAgICAgICAgICBjb25zdCBjYWJpbiA9IG5ldyBUSFJFRS5NZXNoKGdlb21ldHJpZXMuY2FiaW4sIG1hdGVyaWFscy5ib2R5KTsKICAgICAgICAgICAgY2FiaW4ucG9zaXRpb24uc2V0KDEuNSwgMC40LCAwKTsKCiAgICAgICAgICAgIGNvbnN0IGNoaW1uZXkgPSBuZXcgVEhSRUUuTWVzaChnZW9tZXRyaWVzLmNoaW1uZXksIG1hdGVyaWFscy5kZXRhaWwpOwogICAgICAgICAgICBjaGltbmV5LnBvc2l0aW9uLnNldCgtMiwgMC45LCAwKTsKCiAgICAgICAgICAgIGNvbnN0IHNtYWxsV2hlZWxSZWFyID0gbmV3IFRIUkVFLk1lc2goZ2VvbWV0cmllcy53aGVlbCwgbWF0ZXJpYWxzLmRldGFpbCk7CiAgICAgICAgICAgIHNtYWxsV2hlZWxSZWFyLnBvc2l0aW9uLnNldCgwLCAtMC41LCAwKTsKCiAgICAgICAgICAgIGNvbnN0IHNtYWxsV2hlZWxDZW50ZXIgPSBzbWFsbFdoZWVsUmVhci5jbG9uZSgpOwogICAgICAgICAgICBzbWFsbFdoZWVsQ2VudGVyLnBvc2l0aW9uLnggPSAtMTsKCiAgICAgICAgICAgIGNvbnN0IHNtYWxsV2hlZWxGcm9udCA9IHNtYWxsV2hlZWxSZWFyLmNsb25lKCk7CiAgICAgICAgICAgIHNtYWxsV2hlZWxGcm9udC5wb3NpdGlvbi54ID0gLTI7CgogICAgICAgICAgICBjb25zdCBiaWdXaGVlbCA9IHNtYWxsV2hlZWxSZWFyLmNsb25lKCk7CiAgICAgICAgICAgIGJpZ1doZWVsLnNjYWxlLnNldCgyLCAyLCAxLjI1KTsKICAgICAgICAgICAgYmlnV2hlZWwucG9zaXRpb24uc2V0KDEuNSwgLTAuMSwgMCk7CgogICAgICAgICAgICB0cmFpbi5hZGQoCiAgICAgICAgICAgICAgICBub3NlLAogICAgICAgICAgICAgICAgY2FiaW4sCiAgICAgICAgICAgICAgICBjaGltbmV5LAogICAgICAgICAgICAgICAgc21hbGxXaGVlbFJlYXIsCiAgICAgICAgICAgICAgICBzbWFsbFdoZWVsQ2VudGVyLAogICAgICAgICAgICAgICAgc21hbGxXaGVlbEZyb250LAogICAgICAgICAgICAgICAgYmlnV2hlZWwsCiAgICAgICAgICAgICk7CiAgICAgICAgfSwKICAgICAgICBjcmVhdGVHZW9tZXRyaWVzKCkgewogICAgICAgICAgICBjb25zdCBub3NlID0gbmV3IFRIUkVFLkN5bGluZGVyQnVmZmVyR2VvbWV0cnkoMC43NSwgMC43NSwgMywgNjApOwogICAgICAgICAgICBjb25zdCBjYWJpbiA9IG5ldyBUSFJFRS5Cb3hCdWZmZXJHZW9tZXRyeSgyLCAyLjI1LCAxLjUpOwogICAgICAgICAgICBjb25zdCBjaGltbmV5ID0gbmV3IFRIUkVFLkN5bGluZGVyQnVmZmVyR2VvbWV0cnkoMC4zLCAwLjEsIDAuNSwgMjApOwogICAgICAgICAgICBjb25zdCB3aGVlbCA9IG5ldyBUSFJFRS5DeWxpbmRlckJ1ZmZlckdlb21ldHJ5KDAuNCwgMC40LCAxLjc1LCA2MCk7CiAgICAgICAgICAgIHdoZWVsLnJvdGF0ZVgoTWF0aC5QSSAvIDIpOwoKICAgICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgICAgIG5vc2UsIGNhYmluLCBjaGltbmV5LCB3aGVlbCwKICAgICAgICAgICAgfTsKICAgICAgICB9LAogICAgICAgIGNyZWF0ZU1hdGVyaWFscygpIHsKICAgICAgICAgICAgY29uc3QgYm9keSA9IG5ldyBUSFJFRS5NZXNoU3RhbmRhcmRNYXRlcmlhbCh7CiAgICAgICAgICAgICAgICBjb2xvcjogMHhmZjMzMzMsIC8vIHJlZAogICAgICAgICAgICAgICAgZmxhdFNoYWRpbmc6IHRydWUsCiAgICAgICAgICAgIH0pOwogICAgICAgICAgICBib2R5LmNvbG9yLmNvbnZlcnRTUkdCVG9MaW5lYXIoKTsKCiAgICAgICAgICAgIGNvbnN0IGRldGFpbCA9IG5ldyBUSFJFRS5NZXNoU3RhbmRhcmRNYXRlcmlhbCh7CiAgICAgICAgICAgICAgICBjb2xvcjogMHgzMzMzMzMsIC8vIGRhcmtncmV5CiAgICAgICAgICAgICAgICBmbGF0U2hhZGluZzogdHJ1ZSwKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIGRldGFpbC5jb2xvci5jb252ZXJ0U1JHQlRvTGluZWFyKCk7CgogICAgICAgICAgICByZXR1cm4gewogICAgICAgICAgICAgICAgYm9keSwKICAgICAgICAgICAgICAgIGRldGFpbCwKICAgICAgICAgICAgfTsKICAgICAgICB9LAogICAgICAgIGNyZWF0ZVJlbmRlcmVyKCkgewogICAgICAgICAgICByZW5kZXJlciA9IG5ldyBUSFJFRS5XZWJHTFJlbmRlcmVyKHsgYW50aWFsaWFzOiB0cnVlIH0pOwogICAgICAgICAgICByZW5kZXJlci5zZXRTaXplKGNvbnRhaW5lci5jbGllbnRXaWR0aCwgY29udGFpbmVyLmNsaWVudEhlaWdodCk7CiAgICAgICAgICAgIHJlbmRlcmVyLnNldFBpeGVsUmF0aW8od2luZG93LmRldmljZVBpeGVsUmF0aW8pOwogICAgICAgICAgICByZW5kZXJlci5nYW1tYUZhY3RvciA9IDIuMjsKICAgICAgICAgICAgcmVuZGVyZXIuZ2FtbWFPdXRwdXQgPSB0cnVlOwogICAgICAgICAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQocmVuZGVyZXIuZG9tRWxlbWVudCk7CiAgICAgICAgfSwKICAgICAgICBjcmVhdGVDb250cm9scygpIHsKICAgICAgICAgICAgY29udHJvbHMgPSBuZXcgT3JiaXRDb250cm9scyhjYW1lcmEsIGNvbnRhaW5lcik7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKGNvbnRyb2xzKTsKICAgICAgICB9LAogICAgICAgIHVwZGF0ZSgpIHsKCiAgICAgICAgfSwKICAgICAgICByZW5kZXIoKSB7CiAgICAgICAgICAgIHJlbmRlcmVyLnJlbmRlcihzY2VuZSwgY2FtZXJhKTsKICAgICAgICB9LAogICAgICAgIGJpbmRFdmVudHMoKSB7CiAgICAgICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCB0aGlzLm9uV2luZG93UmVzaXplLCBmYWxzZSk7CiAgICAgICAgfSwKICAgICAgICBvbldpbmRvd1Jlc2l6ZSgpIHsKICAgICAgICAgICAgY2FtZXJhLmFzcGVjdCA9IGNvbnRhaW5lci5jbGllbnRXaWR0aCAvIGNvbnRhaW5lci5jbGllbnRIZWlnaHQ7CiAgICAgICAgICAgIC8vIHVwZGF0ZSB0aGUgY2FtZXJhJ3MgZnJ1c3R1bQogICAgICAgICAgICBjYW1lcmEudXBkYXRlUHJvamVjdGlvbk1hdHJpeCgpOwogICAgICAgICAgICByZW5kZXJlci5zZXRTaXplKGNvbnRhaW5lci5jbGllbnRXaWR0aCwgY29udGFpbmVyLmNsaWVudEhlaWdodCk7CiAgICAgICAgfSwKICAgIH0sCgp9Owo="},{"version":3,"sources":["Scene.vue"],"names":[],"mappings":";;;;;;AAMA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA","file":"Scene.vue","sourceRoot":"src/components","sourcesContent":["<template>\n    <div id=\"scene-container\">\n    </div>\n</template>\n\n<script>\n    import * as THREE from 'three';\n    import { OrbitControls } from 'three/examples/jsm/controls/OrbitControls';\n    import WEBGL from '../mixins/webgl';\n\n    let container;\n    let camera;\n    let renderer;\n    let scene;\n    let mainLight;\n    let ambientLight;\n    let controls;\n    let materials;\n    let geometries;\n\n    export default {\n        name: 'Scene',\n        components: {},\n        mounted() {\n            this.bindEvents();\n            this.initialiseScene();\n        },\n        methods: {\n            initialiseScene() {\n                container = document.querySelector('#scene-container');\n                scene = new THREE.Scene();\n                scene.background = new THREE.Color('skyblue');\n\n                this.createCamera();\n                this.createLights();\n                this.createMeshes();\n                this.createRenderer();\n                this.createControls();\n\n                if (WEBGL.isWebGLAvailable()) {\n                    renderer.setAnimationLoop(() => {\n                        this.update();\n                        this.render();\n                    });\n                } else {\n                    const warning = WEBGL.getWebGLErrorMessage();\n                    container.appendChild(warning);\n                }\n            },\n            createCamera() {\n                const fov = 35; // AKA Field of View\n                const aspect = container.clientWidth / container.clientHeight;\n                const near = 0.1; // the near clipping plane\n                const far = 100; // the far clipping plane\n                camera = new THREE.PerspectiveCamera(fov, aspect, near, far);\n                camera.position.set(-5, 5, 7);\n            },\n            createLights() {\n                ambientLight = new THREE.HemisphereLight(\n                    0xddeeff, // sky color\n                    0x202020, // ground color\n                    0.5, // intensity\n                );\n\n                mainLight = new THREE.DirectionalLight(0xffffff, 3);\n                mainLight.position.set(10, 10, 10);\n\n                scene.add(ambientLight, mainLight);\n            },\n            createMeshes() {\n                materials = this.createMaterials();\n                geometries = this.createGeometries();\n                const train = new THREE.Group();\n                scene.add(train);\n\n                const nose = new THREE.Mesh(geometries.nose, materials.body);\n                nose.rotation.z = Math.PI / 2;\n                nose.position.x = -1;\n\n                const cabin = new THREE.Mesh(geometries.cabin, materials.body);\n                cabin.position.set(1.5, 0.4, 0);\n\n                const chimney = new THREE.Mesh(geometries.chimney, materials.detail);\n                chimney.position.set(-2, 0.9, 0);\n\n                const smallWheelRear = new THREE.Mesh(geometries.wheel, materials.detail);\n                smallWheelRear.position.set(0, -0.5, 0);\n\n                const smallWheelCenter = smallWheelRear.clone();\n                smallWheelCenter.position.x = -1;\n\n                const smallWheelFront = smallWheelRear.clone();\n                smallWheelFront.position.x = -2;\n\n                const bigWheel = smallWheelRear.clone();\n                bigWheel.scale.set(2, 2, 1.25);\n                bigWheel.position.set(1.5, -0.1, 0);\n\n                train.add(\n                    nose,\n                    cabin,\n                    chimney,\n                    smallWheelRear,\n                    smallWheelCenter,\n                    smallWheelFront,\n                    bigWheel,\n                );\n            },\n            createGeometries() {\n                const nose = new THREE.CylinderBufferGeometry(0.75, 0.75, 3, 60);\n                const cabin = new THREE.BoxBufferGeometry(2, 2.25, 1.5);\n                const chimney = new THREE.CylinderBufferGeometry(0.3, 0.1, 0.5, 20);\n                const wheel = new THREE.CylinderBufferGeometry(0.4, 0.4, 1.75, 60);\n                wheel.rotateX(Math.PI / 2);\n\n                return {\n                    nose, cabin, chimney, wheel,\n                };\n            },\n            createMaterials() {\n                const body = new THREE.MeshStandardMaterial({\n                    color: 0xff3333, // red\n                    flatShading: true,\n                });\n                body.color.convertSRGBToLinear();\n\n                const detail = new THREE.MeshStandardMaterial({\n                    color: 0x333333, // darkgrey\n                    flatShading: true,\n                });\n                detail.color.convertSRGBToLinear();\n\n                return {\n                    body,\n                    detail,\n                };\n            },\n            createRenderer() {\n                renderer = new THREE.WebGLRenderer({ antialias: true });\n                renderer.setSize(container.clientWidth, container.clientHeight);\n                renderer.setPixelRatio(window.devicePixelRatio);\n                renderer.gammaFactor = 2.2;\n                renderer.gammaOutput = true;\n                container.appendChild(renderer.domElement);\n            },\n            createControls() {\n                controls = new OrbitControls(camera, container);\n                console.log(controls);\n            },\n            update() {\n\n            },\n            render() {\n                renderer.render(scene, camera);\n            },\n            bindEvents() {\n                window.addEventListener('resize', this.onWindowResize, false);\n            },\n            onWindowResize() {\n                camera.aspect = container.clientWidth / container.clientHeight;\n                // update the camera's frustum\n                camera.updateProjectionMatrix();\n                renderer.setSize(container.clientWidth, container.clientHeight);\n            },\n        },\n\n    };\n</script>\n\n<style lang=\"scss\">\n    #scene-container {\n        font-family: Avenir, Helvetica, Arial, sans-serif;\n        -webkit-font-smoothing: antialiased;\n        -moz-osx-font-smoothing: grayscale;\n        text-align: center;\n        color: #2c3e50;\n        margin-top: 0;\n        position: absolute;\n        width: 100%;\n        height: 100%;\n    }\n\n    #info {\n        position: absolute;\n        top: 10px;\n        width: 100%;\n        text-align: center;\n        z-index: 100;\n        display:block;\n    }\n</style>\n"]}]}